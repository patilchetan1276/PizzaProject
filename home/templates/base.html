<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Pizza.com</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    nav {
      background-color: rgb(255, 248, 248);
    }

    .card-img-top {
      height: 175px;
      object-fit: cover;
    }

    .card-title {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
  </style>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-inverse sticky-top">
    <div class="container-fluid my-3 " id="navbarcont">
      <div class="imagecon px-3"><img src="" alt="" width="35px" style="border-radius: 25px;">
      </div>
      <a class="navbar-brand fs-3" href="/" id="nav2">Pizza</a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse mx-5 " id="navbarSupportedContent">

        <ul class="navbar-nav ms-auto  my-0 mb-lg-0">

          {% for detail in details %}
          <li class="nav-item " style="font-weight:600;">
            <a class="nav-link active" aria-current="page" href="{{detail.link}}">{{detail.detail_name}}</a>
          </li>
          {% endfor %}

          <!-- <li class="nav-item">
              <a class="nav-link active " aria-current="page" href="/register" style="color:red; font-weight:bolder">Login/SignUp</a>
            </li> -->
          {% if request.user.is_authenticated %}
          <li class="nav-item" style="font-weight:600;">
            <a class="nav-link active" aria-current="page" href="{% url 'orders'%}">Orders</a>
          </li>
          <li class="nav-item" style="font-weight:600;">
            <a class="nav-link active" aria-current="page" href="{% url 'cart'%}">Cart</a>
          </li>

          <li class="nav-item" style="font-weight:600; ">
            <a class="nav-link active" aria-current="page" href="{% url 'logout' %}" style="color: red;">Logout</a>
          </li>
          {% else %}

          <li class="nav-item" style="font-weight:600; ">
            <a class="nav-link active" aria-current="page" href="{% url 'register'%}"
              style="color:green;">Login/SignUp</a>
          </li>
          {% endif %}
          <!-- <div class="container d-flex ">
         <p class="my-2 mx-2" id="location" ></p>
              <button class="btn btn-outline-success rounded-2" type="submit" onclick="getLocation()">Search</button>
          </div> -->
      </div>

    </div>
  </nav>

  {% block start %}
  {% endblock %}

  <!-- footer  -->
  <!-- Footer -->
  <footer class="bg-dark text-center text-white">
    <!-- Grid container -->
    <div class="container p-4">
      <!-- Section: Social media -->
      <section class="mb-4">
        <!-- Facebook -->
        <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"><i class="fab fa-facebook-f"></i></a>

        <!-- Google -->
        <a class="btn btn-outline-light btn-floating m-1" href="" role="button"><i class="fab fa-google"></i></a>

        <!-- Instagram -->
        <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"><i class="fab fa-instagram"></i></a>

        <!-- Linkedin -->
        <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"><i class="fab fa-linkedin-in"></i></a>

     

      <section class="mb-4 mt-5">
        <p>
          Don't miss out on this amazing deal. Order now and satisfy your pizza cravings in no time. Get additional
          Cashback upto ₹100* with payment via Digital Wallet Partners. Enjoy the taste and refer others to get heavenly taste. Order Now!
        </p>
      </section>
      <div class="container p-4">
        <!--Grid row-->
        <div class="row">
          <!--Grid column-->
          <div class="col-lg-6 col-md-12 mb-4 mb-md-0">
            <h5 class="text-uppercase">Footer text</h5>
    
            <p>
              Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis
              molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae
              aliquam voluptatem veniam, est atque cumque eum delectus sint!
            </p>
          </div>
          <!--Grid column-->
    
          <!--Grid column-->
          <div class="col-lg-6 col-md-12 mb-4 mb-md-0">
            <h5 class="text-uppercase">Footer text</h5>
    
            <p>
              Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis
              molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae
              aliquam voluptatem veniam, est atque cumque eum delectus sint!
            </p>
          </div>
          <!--Grid column-->
        </div>
        <!--Grid row-->
      </div>
    
     


          
          <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
            © 2020 Copyright:
            <a class="text-white" href="https://mdbootstrap.com/">Pizza.com</a>
          </div>
          
  </footer>
  <!-- Footer -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
    crossorigin="anonymous"></script>
  <script>
    function getCookie(name) {
      var cookieValue = null;
      if (document.cookie && document.cookie !== '') {
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
          var cookie = cookies[i].trim();
          if (cookie.substring(0, name.length + 1) === (name + '=')) {
            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
            break;
          }
        }
      }
      return cookieValue;
    }

    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
      } else {
        alert("Geolocation is not supported by this browser.");
      }
    }

    function showPosition(position) {
      var latitude = position.coords.latitude;
      var longitude = position.coords.longitude;

      var csrfToken = getCookie('csrftoken');

      // Pass the coordinates to a Django view using AJAX
      var xhr = new XMLHttpRequest();
      xhr.open('POST', '/location/');
      xhr.setRequestHeader('Content-Type', 'application/json');
      xhr.setRequestHeader('X-CSRFToken', csrfToken);
      xhr.onload = function () {
        if (xhr.status === 200) {
          var response = JSON.parse(xhr.responseText);
          document.getElementById('location').textContent = response.location;
        }
      };
      xhr.send(JSON.stringify({ 'latitude': latitude, 'longitude': longitude }));
    }

    const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]')
    const popoverList = [...popoverTriggerList].map(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl))
  </script>

</body>

</html>